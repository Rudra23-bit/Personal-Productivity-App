<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Password Manager | Personal Productivity App</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:"Segoe UI",sans-serif;
}
body{
  background:#ffffff;;
  color:white;
}
header{
  background:linear-gradient(135deg,#9b5de5,#f15bb5);
  padding:20px 30px;
}
.navbar{
  display:flex;
  justify-content:space-between;
}
.brand{font-size:1.5rem;font-weight:bold;}
.nav-links{display:flex;gap:20px;}
.nav-links a{color:white;text-decoration:none;font-weight:600;}
header h1{text-align:center;margin-top:15px;}
header p{text-align:center;color:#fee440;}

section{
  background:#1a1a2e;
  max-width:650px;
  margin:40px auto;
  padding:30px;
  border-radius:20px;
}

.input-box{
  position:relative;
}

input{
  width:100%;
  margin:12px 0;
  padding:14px 45px 14px 14px;
  border-radius:12px;
  border:none;
  background:#0f0f1a;
  color:white;
}

.input-box i{
  position:absolute;
  right:15px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  color:#fee440;
}

button{
  width:100%;
  height:52px;
  margin-top:10px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,#9b5de5,#f15bb5);
  color:white;
  cursor:pointer;
}

ul{
  list-style:none;
  margin-top:20px;
}

li{
  background:#0f0f1a;
  padding:14px;
  border-radius:10px;
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.actions i{
  cursor:pointer;
  margin-left:12px;
  color:#fee440;
}
</style>
</head>

<body>

<header>
  <div class="navbar">
    <div class="brand">üîê Personal Productivity App</div>
    <div class="nav-links">
      <a href="http://127.0.0.1:5500/home.html">Home</a>
      <a href="http://127.0.0.1:5500/1login.html">Login</a>
      <a href="http://127.0.0.1:5500/sign%20up%202.html">Sign Up</a>
    </div>
  </div>
  <h1>üîë Password Manager</h1>
  <p>Store & generate secure passwords</p>
</header>

<section>
  <input type="text" id="site" placeholder="userName">

  <div class="input-box">
    <input type="password" id="password" placeholder="Password">
    <i class="fa-solid fa-eye" onclick="toggleInputPassword()"></i>
  </div>

  <button onclick="generatePassword()">Generate Password</button>
  <button onclick="savePassword()">Save Password</button>

  <ul id="passwordList"></ul>
</section>

<script>
let passwords = JSON.parse(localStorage.getItem("passwords")) || [];

/* UTF-8 safe encryption */
function encrypt(text){
  return btoa(unescape(encodeURIComponent(text)));
}
function decrypt(text){
  return decodeURIComponent(escape(atob(text)));
}

/* Show / Hide input password */
function toggleInputPassword(){
  const input=document.getElementById("password");
  input.type = input.type === "password" ? "text" : "password";
}

/* Generate password & show it */
function generatePassword(){
  const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%!^&*";
  let pass="";
  for(let i=0;i<16;i++){
    pass+=chars[Math.floor(Math.random()*chars.length)];
  }
  const input=document.getElementById("password");
  input.value=pass;
  input.type="text"; // auto show
}

function savePassword(){
  const site=document.getElementById("site").value.trim();
  const pass=document.getElementById("password").value.trim();
  if(!site || !pass) return alert("Fill all fields");

  passwords.push({site,pass:encrypt(pass),show:false});
  localStorage.setItem("passwords",JSON.stringify(passwords));

  document.getElementById("site").value="";
  document.getElementById("password").value="";
  document.getElementById("password").type="password";
  displayPasswords();
}

function togglePassword(i){
  passwords[i].show=!passwords[i].show;
  localStorage.setItem("passwords",JSON.stringify(passwords));
  displayPasswords();
}

function deletePassword(i){
  if(confirm("Delete this password?")){
    passwords.splice(i,1);
    localStorage.setItem("passwords",JSON.stringify(passwords));
    displayPasswords();
  }
}

function displayPasswords(){
  const ul=document.getElementById("passwordList");
  ul.innerHTML="";
  passwords.forEach((p,i)=>{
    ul.innerHTML+=`
      <li>
        <span>
          <b>${p.site}</b><br>
          ${p.show ? decrypt(p.pass) : "‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"}
        </span>
        <div class="actions">
          <i class="fa-solid ${p.show?"fa-eye-slash":"fa-eye"}" onclick="togglePassword(${i})"></i>
          <i class="fa-solid fa-trash" onclick="deletePassword(${i})"></i>
        </div>
      </li>`;
  });
}

displayPasswords();
</script>

</body>
</html>

